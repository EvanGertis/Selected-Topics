
<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>Word Matching Exercise</title>
    <style>
    *:focus {outline: 2px solid blue; outline-offset: 2px;}
    details {padding:3px;}
    </style>
    <link rel="stylesheet" type="text/css" href="boxes.css?v=9999" />
    <script type="text/javascript" src="event1.js?v=9999"></script>
  
<!-- Global Site Tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-89940905-27"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments)};
  gtag('js', new Date());
  gtag('config', 'UA-89940905-27');
</script>

<script type="text/javascript" src="../logging.js"></script>
</head>


  <body>
    <div id="maincontentstyle">
        <div id="boxstyle">
          <h3 id= "title">Section 5.2 Word Matching Exercise</h3>
          <div class="row">
            <div id="inputs" class="column column-1">
                <div id="inputBoxes" class="inputBoxes">
                    <title>Input:</title>
                    <div class="row">
                      Title: <input id= "title_input" type="text">
                    </div>  
                    <div class="row">
                      Key Term 1: <input id="el1" type="text" value="">
                    </div>
                    <div class="row">
                      Description 1: <input id="dl1" type="text" value="">
                    </div>
                    <div class="row">
                      Key Term 2: <input id="el2" type="text" value="">
                    </div>
                    <div class="row">
                      Description 2: <input id="dl2" type="text" value="">
                    </div>
                </div>
                <span style="padding: 3px">
                  <button id ="one" class="button" type="button" onClick="add_more()">add more</button>
                </span>
                <span style="padding: 3px">
                  <button id ="one" class="button" type="button" onClick="process_input()">generate html</button>
                </span>
            </div>
            </div>
          </div>
          <div id="results" class="row">
          </div>
          <div id="renderedHTML" class="row">
          </div>
        </div>


    
<script src="jquery-1.7.2.min.js"></script>

<script src="jquery-ui.min.js"></script>
<script src="jquery.ui.touch-punch.min.js"></script><script src="jquery.alerts.js"></script><link href="jquery.alerts.css" rel="stylesheet" type="text/css" media="screen" />  

<script type="text/javascript">
$(init);
$( window ).unload(function() {
  removeStorage.removeItem("someVarKey1");
});
function reset() {
    var someVarName = true;
sessionStorage.setItem("someVarKey1", someVarName);
window.location.reload();
}
function init() {
      document.getElementById('resetButton').style.display = 'none';
document.getElementById("resetButton").style.visibility = "hidden";
if (false && sessionStorage.getItem("someVarKey1")) // No focus for the first time
  $("#one").focus();
  var numbers = [3, 4, 5, 1, 2];
  initialize(numbers);
  

}
</script>
    <script>
    var htmlGenerated = false;
    var i = 2;
    function one() {
        jAlert(answer, 'Correct Match');
    }
    
    const generate_html = (elArray, dlArray, title) => {
      word_matching = document.getElementById("results");
      if(!htmlGenerated){
        // title = document.getElementById("title");
        // title.innerHTML = title_input; 
        word_matching.innerHTML += '<textarea id="html" value='
        let text = title + "\n";
        for (let i = 0; i < elArray.length; i++) {
            text += `${elArray[i]}:${dlArray[i]}\n`;
            word_matching.innerHTML += '<div\s id="s'+i+'"class="draggyBox-small">'+elArray[i]+'</div>\n '
        }
        word_matching.innerHTML += "<div\s id="s2"\s class="draggyBox-small">'+array_el[1].value+'</div>\n<td \s id="d1">'+array_dl[0]+'</td >\n </tr>\n <tr\s id="row2">\n \t<td >\n \t\t<div\s id="t2"class="ltarget"></div>\n \t</td >\n \t<td \s id="d2">'+array_dl[1]+'</td >\n </tr>\n</table>'
          word_matching.innerHTML += '<div id = "program1" style="border: 1px solid #EB0D1B; width: 360px; font-family: courier; font-size: 100.5%; margin: 0px auto; border: 1px; text-align: center; margin-top: 5px;"> <span style="padding: 3px"> <button id ="one" class="button" type="button" onClick="one()">Show Answer</button> <button id = "resetButton" class="button" type="button" onClick="reset()">Reset</button><button id = "renderHTMLButton" class="button" type="button" onClick="render_html()">Render html</button> <span id = "audio" style=""> <a href="" title="Turns Text-to-Speech Output On or Off" class="menulink" style="text-decoration: none;"><img id="bg" src="audioOff.png" height="30" width="30" style="margin-bottom:-10px; padding-bottom:-20px;"/> </a> </span> </span> </div> </div></div>'
          htmlGenerated = true;
        }
        console.log(text);
      }

    function process_input() {
      const e_inputs = document.querySelectorAll("[id^='el']");
      const d_inputs = document.querySelectorAll("[id^='dl']");
      const title = document.getElementById('title_input').value;
      let elArray = [];
      let dlArray = [];
      e_inputs.forEach( i => { if(i.value) elArray.push(i.value) });
      d_inputs.forEach( i => { if(i.value) dlArray.push(i.value) });
      generate_html(elArray, dlArray, title);
    }
    // answer = array_el[0].value+": "+array_dl[0].value+"\n"+array_el[1].value+": "+array_dl[1].value
    function generate_html(){
      var elData;
      var dlData;

      var length = $('#inputBoxes').children().length
      var allData = []
      
      for(i=1; i<=length;i++){
        elData = document.getElementById(`el${i}`).value
        dlData = document.getElementById(`dl${i}`).value
        e=`el${i}`;
        d=`dl${i}`;
        allData.push({e:elData,d:dlData})
      }
      console.log(allData);
     
    } 

    function hide_user_input(){
      user_input = document.getElementsByClassName("inputBoxes")
      while(user_input.length > 0){
        user_input[0].parentNode.removeChild(user_input[0])
      }

    }

    function add_more() {
      i++;
      inputs = document.getElementsByClassName("inputBoxes")[0];
      row = document.createElement("div");
      row.innerHTML = "Key Term "+i+" :";
      row.setAttribute("class","row");
      key = document.createElement("input");
      key.setAttribute("id","el"+i);
      row.appendChild(key);
      inputs.appendChild(row);
      row2 = document.createElement("div");
      row2.setAttribute("class","row");
      row2.innerHTML = "Description  "+i+" :";
      description = document.createElement("input");
      description.setAttribute("id","dl"+i);
      row2.appendChild(description);
      inputs.appendChild(row2);
    }

    function render_html(){
      renderedHTML  = document.getElementById("renderedHTML");
      console.log("render_html");
      html = document.getElementById("html");
      renderedHTML.innerHTML = html.value;
    }
</script>
   
<script type="text/javascript" src="GetElementPosition3.js"></script>
   <script>
//    $(function(){
//  if ('speechSynthesis' in window) {
//    speechSynthesis.onvoiceschanged = function() {
//      var $voicelist = $('#voices');
//
//      if($voicelist.find('option').length == 0) {
//        speechSynthesis.getVoices().forEach(function(voice, index) {
//          var $option = $('<option>')
//          .val(index)
//          .html(voice.name + (voice.default ? ' (default)' :''));
//
//          $voicelist.append($option);
//        });
//
//        $voicelist.material_select();
//      }
//    }
//  } 
//});     

audioOn = false;
$(function() {
  $('.menulink').click(function(){
    if (audioOn) {
      $("#bg").attr('src',"audioOff.png");  
      audioOn = false;
    }
    else {
      $("#bg").attr('src',"audioOn.png");
      audioOn = true; speak(" ");
    }
    return false;
  });
});
   </script>   

   </body>
</html>